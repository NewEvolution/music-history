{"version":3,"sources":["../javascripts/filter-handlers.js"],"names":[],"mappings":";;;mBAIe,UAAS,aAAa,EAAE,YAAY,EAAE,iBAAiB,EAAE;;AAEtE,iBAAE,eAAe,CAAC,CAAC,OAAO,EAAE,CAAC;;AAE7B,iBAAE,SAAS,CAAC,CAAC,MAAM,CAAC,UAAS,CAAC,EAAE;AAC9B,UAAI,cAAc,GAAG,aAAE,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;AACnC,UAAG,cAAc,KAAK,KAAK,EAAE;;AAC3B,qBAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAS,SAAS,CAAC,EAAC,IAAI,EAAC,YAAY,EAAC,CAAC,CAAC,CAAC;OAC3D,MAAM;;AACL,YAAI,YAAY,GAAG,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,MAAM,CAAC,EAAC,QAAQ,EAAE,cAAc,EAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;AACtH,qBAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAS,SAAS,CAAC,EAAC,IAAI,EAAC,YAAY,EAAC,CAAC,CAAC,CAAC;OAC3D;KACF,CAAC,CAAC;;AAEH,iBAAE,QAAQ,CAAC,CAAC,MAAM,CAAC,UAAS,CAAC,EAAE;AAC7B,UAAI,aAAa,GAAG,aAAE,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;AAClC,UAAG,aAAa,KAAK,KAAK,EAAE;;AAC1B,qBAAE,SAAS,CAAC,CAAC,IAAI,CAAC,YAAS,SAAS,CAAC,EAAC,IAAI,EAAC,aAAa,EAAC,CAAC,CAAC,CAAC;OAC7D;KACF,CAAC,CAAC;;AAEH,iBAAE,gBAAgB,CAAC,CAAC,KAAK,CAAC,UAAS,CAAC,EAAE;AACpC,OAAC,CAAC,cAAc,EAAE,CAAC;AACnB,UAAG,aAAE,eAAe,CAAC,CAAC,QAAQ,CAAC,kBAAkB,CAAC,KAAK,KAAK,EAAE;AAC5D,YAAI,cAAc,GAAG,mBAAa,CAAC;AACnC,aAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACzC,6BAAG,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;SACnC;OACF;KACF,CAAC,CAAC;;AAEH,iBAAE,cAAc,CAAC,CAAC,EAAE,CAAE,QAAQ,EAAE,eAAe,EAAE,UAAS,CAAC,EAAE;AAC3D,UAAG,aAAE,eAAe,CAAC,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;AAClD,2BAAG,aAAa,CAAC,aAAE,eAAe,CAAC,CAAC,CAAC;OACtC;KACF,CAAC,CAAC;;AAEH,iBAAE,eAAe,CAAC,CAAC,KAAK,CAAC,UAAS,CAAC,EAAE;AACnC,OAAC,CAAC,cAAc,EAAE,CAAC;AACnB,yBAAG,WAAW,CAAC,aAAE,eAAe,CAAC,CAAC,CAAC;AACnC,UAAI,cAAc,GAAG,aAAE,8BAA8B,CAAC,CAAC;AACvD,WAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACzC,2BAAG,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;OACrC;AACD,mBAAE,cAAc,CAAC,CAAC,IAAI,CAAC,YAAW;AAChC,YAAI,CAAC,KAAK,EAAE,CAAC;OACd,CAAC,CAAC;AACH,mBAAE,SAAS,CAAC,CAAC,IAAI,CAAC,YAAS,SAAS,CAAC,EAAC,IAAI,EAAC,aAAa,EAAC,CAAC,CAAC,CAAC;AAC5D,mBAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,YAAS,SAAS,CAAC,EAAC,IAAI,EAAC,YAAY,EAAC,CAAC,CAAC,CAAC;KAC3D,CAAC,CAAC;GACJ","file":"../javascripts/filter-handlers.js","sourcesContent":["import * as filterSongs from \"filter-songs\";\nimport * as template from \"hb-template\";\nimport * as mf from \"multiuse-functions\";\nimport * as $ from \"jquery\";\nexport default function(uniqueArtists, uniqueAlbums, retrievedSongsArr) {\n  // Initially hidden so all its reveals look the same\n  $(\"#filter-reset\").slideUp();\n  // Artist dropdown menu\n  $(\"#artist\").change(function(e) {\n    let selectedArtist = $(this).val();\n    if(selectedArtist === \"all\") { // Reset album list to show all albums\n      $(\"#album\").html(template.addSelect({item:uniqueAlbums}));\n    } else { // Populate the album select with only the chosen artists albums\n      let artistAlbums = _.chain(retrievedSongsArr).filter({'artist': selectedArtist}).uniq(\"album\").pluck(\"album\").value();\n      $(\"#album\").html(template.addSelect({item:artistAlbums}));\n    }\n  });\n  // Album dropdown menu\n  $(\"#album\").change(function(e) {\n    let selectedAlbum = $(this).val();\n    if(selectedAlbum === \"all\") { // Reset artist list to show all artists\n      $(\"#artist\").html(template.addSelect({item:uniqueArtists}));\n    }\n  });\n  // Submit button\n  $(\"#filter-submit\").click(function(e) {\n    e.preventDefault();\n    if($(\"#filter-reset\").hasClass(\"full-transparent\") === false) {\n      let sectionsToHide = filterSongs();\n      for(let i=0; i<sectionsToHide.length; i++) {\n        mf.elementHide(sectionsToHide[i]);\n      }\n    }\n  });\n  // Reveal the reset buton when any form field changes\n  $(\"#filter-form\").on( \"change\", \".filter-input\", function(e) {\n    if($(\"#filter-reset\").hasClass(\"full-transparent\")) {\n      mf.elementReveal($(\"#filter-reset\"));\n    }\n  });\n  // Reset Button\n  $(\"#filter-reset\").click(function(e) {\n    e.preventDefault();\n    mf.elementHide($(\"#filter-reset\"));\n    let allHiddenSongs = $(\"section.row.full-transparent\");\n    for(let i=0; i<allHiddenSongs.length; i++) {\n      mf.elementReveal(allHiddenSongs[i]);\n    }\n    $('#filter-form').each(function() {\n      this.reset();\n    });\n    $(\"#artist\").html(template.addSelect({item:uniqueArtists}));\n    $(\"#album\").html(template.addSelect({item:uniqueAlbums}));\n  });\n}"]}