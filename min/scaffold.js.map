{"version":3,"sources":["../javascripts/scaffold.js"],"names":[],"mappings":";;;AAQA,MAAI,WAAW,GAAG,IAAI,QAAQ,CAAC,6CAA6C,CAAC,CAAC;AAC9E,MAAI,WAAW,GAAG,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACjD,MAAI,WAAW,GAAG,KAAI,MAAM,EAAE,CAAC;AAC/B,MAAI,QAAQ,GAAG,GAAE,KAAK,EAAE,CAAC;;;AAGzB,aAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAA,QAAQ,EAAI;AAC1F,QAAI,iBAAiB,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;AACvC,wBAAS,iBAAiB,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;GACpD,CAAC,CAAC;;;AAGH,yBAAiB,WAAW,CAAC,CAAC;;AAE9B,UAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,UAAA,WAAW,EAAI;;AAEnC,yBAAe,WAAW,CAAC,SAAS,EAAE,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC;;AAEjF,sBAAY,WAAW,CAAC,SAAS,EAAE,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;GAC5F,CAAC,CAAC","file":"../javascripts/scaffold.js","sourcesContent":["import * as songListHandlers from \"song-list-handlers\";\nimport * as filterHandlers from \"filter-handlers\";\nimport * as addHandlers from \"add-handlers\";\nimport * as populate from \"populate-songs\";\nimport * as search from \"search\";\nimport * as uid from \"uid\";\nimport * as Q from \"q\";\n\nlet firebaseRef = new Firebase(\"https://sizzling-torch-4887.firebaseio.com/\");\nlet currentPage = location.pathname.substring(1); // get the current HTML page name\nlet currentUser = uid.getUid();\nlet deferred = Q.defer();\n\n// Execute on DB change\nfirebaseRef.child(\"songs\").orderByChild(\"uid\").equalTo(currentUser).on(\"value\", snapshot => {\n  let retrievedSongsObj = snapshot.val();\n  populate(retrievedSongsObj, currentPage, deferred);\n});\n\n// Song List Handlers\nsongListHandlers(firebaseRef);\n\ndeferred.promise.then(promisedObj => {\n  // Filter Form Handlers\n  filterHandlers(promisedObj.u_artists, promisedObj.u_albums, promisedObj.songs_a);\n  // Add Form Handlers\n  addHandlers(promisedObj.u_artists, promisedObj.u_albums, promisedObj.songs_a, firebaseRef);\n});"]}